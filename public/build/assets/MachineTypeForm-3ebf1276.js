import g from"./FormWrapper-5c0db3ce.js";import l from"./ButtonComp-7a3fe749.js";import v from"./InputLabel-69092e66.js";import w from"./TextInput-414aae93.js";import{_ as y}from"./InputError-fee228bf.js";import{g as b}from"./globalMixin-827f0fbc.js";import{i as c,q as F,j as M,o as k,e as T,b as o,w as m,a as s,g as d}from"./app-92be7c25.js";const V={class:"flex flex-wrap items-end -mx-3"},$={class:"w-full max-w-full px-3 shrink-0 lg:w-1/2 md:w-1/2 md:flex-0"},B={class:"mb-4"},C={class:"w-full max-w-full px-3 shrink-0 lg:w-1/4 md:w-1/3 md:flex-0"},N={class:"mb-4"},Y={__name:"MachineTypeForm",props:["form_id"],emits:["resetForm"],setup(f,{emit:n}){const r=f,{base_url:u}=b(),t=c(new Form({form_id:0,name:""})),_=c({create_url:"machine-types"}),p=F(()=>r.form_id>0?"Update Machine Type":"Add Machine Type");M(()=>{r.form_id>0&&x()});const h=()=>{t.postForm(_.create_url).then(function(e){console.log(e),e.success&&(n("resetForm"),Utilities.showPopMessage("Your data has been saved successfully!"))}).catch(function(e){})},x=()=>{axios.get(u.value+"/machine-types/"+r.form_id+"/edit").then(function(e){if(e.data.success){let a=e.data.machine_type;t.name=a.name}t.form_id=r.form_id}).catch(function(e){})};return(e,a)=>(k(),T("div",null,[o(g,{title:p.value},{default:m(()=>[s("div",V,[s("div",$,[s("div",B,[o(v,{for:"name",value:"Name"}),o(w,{modelValue:t.name,"onUpdate:modelValue":a[0]||(a[0]=i=>t.name=i),type:"text",required:"",autofocus:"",error:!!t.errors.get("name")},null,8,["modelValue","error"]),o(y,{class:"mt-2",message:t.errors.get("name")},null,8,["message"])])]),s("div",C,[s("div",N,[o(l,{onButtonClicked:h,type:"save"},{default:m(()=>[d(" Save ")]),_:1}),o(l,{onButtonClicked:a[1]||(a[1]=i=>n("resetForm")),type:"cancel"},{default:m(()=>[d(" Cancel ")]),_:1})])])])]),_:1},8,["title"])]))}};export{Y as default};
