import{l as s,Z as d,T as p,R as u}from"./lg-thumbnail.es5-23dc7a40.js";import{i as c,j as m,k as h,l as f,o as b,e as _,b as g,F as w,a as y}from"./app-92be7c25.js";const A=y("div",null,null,-1),x={__name:"ImagePreview1",props:{imagesArr:{type:Array,default:[]},idLabel:{type:String,default:"id"},path:String,pathThumbnail:String,type:{type:String,default:"single"},initialId:{type:[String,Number],default:0},loop:{type:Boolean,default:!0}},emits:["resetImageArr"],setup(n,{emit:r}){const a=n,t=c({data:[],startIndex:0});m(()=>{h(()=>{t.data=[],a.imagesArr.forEach((e,l)=>{a.initialId>0&&a.initialId==e[a.idLabel]&&(t.startIndex=l),e.attachment&&e.attachment.mime_type=="application/pdf"?t.data.push({src:"https://www.africau.edu/images/default/sample.pdf",src:window[appname].base_url+"/"+a.path+"/"+e[a.idLabel],iframe:!0,subHtml:`<a href="${window[appname].base_url}/${a.path}/${e[a.idLabel]}" target="_blank">${e.attachment.file_name}</a>`,downloadUrl:window[appname].base_url+"/"+a.path+"/"+e[a.idLabel]}):t.data.push({src:window[appname].base_url+"/"+a.pathThumbnail+"/"+e[a.idLabel],thumb:window[appname].base_url+"/"+a.pathThumbnail+"/"+e[a.idLabel],subHtml:`<a href="${window[appname].base_url}/${a.path}/${e[a.idLabel]}" target="_blank">${e.attachment.file_name}</a><br>`,downloadUrl:window[appname].base_url+"/"+a.path+"/"+e[a.idLabel]})}),i()})});const i=()=>{s($(this),{licenseKey:"A06A88F4-6D99-4522-BE6A-653CD9D44CF2",dynamic:!0,dynamicEl:t.data,addClass:"iw-lightbox",escKey:!0,share:!1,loop:a.loop,index:t.startIndex,plugins:[d,p,u],onBeforeClose:function(){r("resetImageArr",0),console.log("onCloseAfter")},onCloseAfter:function(){console.log("onCloseAfter")}}).openGallery(0)};return(e,l)=>{const o=f("lightgallery");return b(),_(w,null,[A,g(o)],64)}}};export{x as default};
