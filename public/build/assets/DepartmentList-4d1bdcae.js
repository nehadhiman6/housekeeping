import"./index-4bb81809.js";import{_ as g}from"./AppLayout-44e5a529.js";import _ from"./ListWrapper-0c2f9604.js";import b from"./ButtonComp-7a3fe749.js";import x from"./DepartmentForm-f5601a14.js";import{g as h}from"./globalMixin-827f0fbc.js";import{i as y,j as w,o as i,c as l,w as r,a as o,f as d,b as k,g as v}from"./app-92be7c25.js";import"./SideNavLink-7f5d99b7.js";import"./SideNavDropDown-3a860ee4.js";import"./SideDropDownItemLink-cd206ce4.js";import"./ProjectLogo-ab93dec1.js";import"./BreadCrumbs-ba3968f1.js";import"./FormWrapper-5c0db3ce.js";import"./InputLabel-69092e66.js";import"./TextInput-414aae93.js";import"./InputError-fee228bf.js";const D=o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Department ",-1),C=o("i",{class:"fa-solid fa-plus mr-2"},null,-1),O=o("table",{id:"department_list",width:"100%",class:"row-border stripe"},null,-1),z={__name:"DepartmentList",props:[],setup(N){const{base_url:m}=h(),t=y({formOpen:!1,table:null,form_id:0}),p=()=>{t.form_id=0,t.formOpen=!1,t.table.ajax.reload(null,!1)},f=e=>{t.formOpen=!0,t.form_id=e};w(()=>{c()});const c=()=>{t.table=$("#department_list").DataTable({processing:!0,serverSide:!0,searchDelay:700,ordering:!0,scrollX:!0,scrollY:"350px",iDisplayLength:10,scrollCollapse:!1,pageLength:10,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> '},fixedColumns:{left:2,right:1},ajax:{url:m.value+"/departments-list",type:"GET"},createdRow:function(e,a,n){$(e).addClass("bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600")},columns:[{title:"Sr no.",data:"id",render:function(e,a,n,s){var u=s.row+parseInt(s.settings.json.start)+1;return u}},{title:"Name",data:"name"},{title:"Actions",orderable:!1,data:"id",render:function(e,a,n,s){return"<button  data-item-id="+e+' class="inline-block dark:text-white px-4 py-2.5 mb-0 font-bold text-center align-middle transition-all bg-transparent border-0 rounded-lg shadow-none cursor-pointer leading-normal text-sm ease-in bg-150 hover:-translate-y-px active:opacity-85 bg-x-25 text-slate-700  edit-item"><i class="mr-2 fas fa-pencil-alt text-slate-700  edit-item" aria-hidden="true"  data-item-id='+e+"></i> Edit </button>"}}],drawCallback:function(e){$(".edit-item").on("click",function(a){t.formOpen=!1,f(a.target.dataset.itemId)})}})};return(e,a)=>(i(),l(g,{title:"Departments"},{header:r(()=>[D]),default:r(()=>[o("div",null,[t.formOpen?(i(),l(x,{key:0,onResetForm:p,form_id:t.form_id},null,8,["form_id"])):d("",!0),k(_,{title:"Departments List"},{button:r(()=>[t.formOpen==!1?(i(),l(b,{key:0,onButtonClicked:a[0]||(a[0]=n=>t.formOpen=!0),type:"new"},{default:r(()=>[C,v(" New Department ")]),_:1})):d("",!0)]),table:r(()=>[O]),_:1})])]),_:1}))}};export{z as default};
