import w from"./FormWrapper-5c0db3ce.js";import n from"./ButtonComp-7a3fe749.js";import d from"./InputLabel-69092e66.js";import h from"./TextInput-414aae93.js";import V from"./TextAreaInput-5805d6a7.js";import{_ as c}from"./InputError-fee228bf.js";import{g as F}from"./globalMixin-827f0fbc.js";import{i as u,q as k,j as y,o as $,c as P,w as m,a as r,b as s,g as f}from"./app-92be7c25.js";const B={class:"flex flex-wrap items-end -mx-3"},C={class:"w-full max-w-full px-3 shrink-0 lg:w-1/2 md:w-1/2 md:flex-0"},N={class:"mb-4"},U={class:"w-full max-w-full px-3 shrink-0 lg:w-1/2 md:w-1/2 md:flex-0"},q={class:"mb-4"},M={class:"w-full max-w-full px-3 shrink-0 lg:w-1/4 md:w-1/3 md:flex-0"},T={class:"mb-4"},H={__name:"ProblemForm",props:["form_id"],emits:["resetForm"],setup(_,{emit:i}){const a=_,{base_url:p}=F(),e=u(new Form({form_id:0,name:"",description:""})),x=u({create_url:"problems"}),g=k(()=>a.form_id>0?"Update Problem":"Add Problem");y(()=>{a.form_id>0&&b()});const v=()=>{e.postForm(x.create_url).then(function(t){console.log(t),t.success&&(i("resetForm"),Utilities.showPopMessage("Your data has been saved successfully!"))}).catch(function(t){})},b=()=>{axios.get(p.value+"/problems/"+a.form_id+"/edit").then(function(t){if(t.data.success){let o=t.data.problem;e.name=o.name,e.description=o.description}e.form_id=a.form_id}).catch(function(t){})};return(t,o)=>($(),P(w,{title:g.value},{default:m(()=>[r("div",B,[r("div",C,[r("div",N,[s(d,{for:"name",value:"Name"}),s(h,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.name=l),type:"text",required:"",autofocus:"",error:!!e.errors.get("name")},null,8,["modelValue","error"]),s(c,{class:"mt-2",message:e.errors.get("name")},null,8,["message"])])]),r("div",U,[r("div",q,[s(d,{for:"description",value:"Description"}),s(V,{modelValue:e.description,"onUpdate:modelValue":o[1]||(o[1]=l=>e.description=l),type:"text",required:"",error:!!e.errors.get("description")},null,8,["modelValue","error"]),s(c,{class:"mt-2",message:e.errors.get("description")},null,8,["message"])])]),r("div",M,[r("div",T,[s(n,{onButtonClicked:v,type:"save"},{default:m(()=>[f(" Save ")]),_:1}),s(n,{onButtonClicked:o[2]||(o[2]=l=>i("resetForm")),type:"cancel"},{default:m(()=>[f(" Cancel ")]),_:1})])])])]),_:1},8,["title"]))}};export{H as default};
